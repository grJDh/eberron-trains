(this["webpackJsonpeberron-trains"]=this["webpackJsonpeberron-trains"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),l=a.n(c),o=a(7),i=a.n(o),s=(a(18),a(4)),u=a(1),m=a(6),d=a(2),p=(a(25),function(e){return l.a.createElement("div",{className:"station-block"},l.a.createElement("input",{onChange:e.onChangeFunc,className:"station-input",type:"text",list:"cities",placeholder:e.placeholder}),l.a.createElement("datalist",{id:"cities"},e.stations.sort().map((function(e,t){return l.a.createElement("option",{key:t,value:e})}))))}),h=(a(26),a(5)),b=function(e){return 0==!e?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(" "):""},f=Object(h.b)({name:"main",initialState:{rails4E:[["Krona Peak","Irontown",104],["Irontown","Vulyar",315],["Korth","Rekkenmark",112],["Korth","Atur",195],["Atur","Vedykar",148],["Vedykar","Fort Zombie",142],["Sharn","First Tower",44],["First Tower","Wroat",250],["Wroat","Hatheril",478],["Hatheril","Starilaskur",223],["Hatheril","Sword Keep",106],["Wroat","Starilaskur",617],["Starilaskur","Sterngate",269],["Starilaskur","Vathirond",198],["Vathirond","Aruldusk",142],["Aruldusk","Sigilstar",99],["Sigilstar","Flamekeep",194],["Sword Keep","Marketplace",96],["Marketplace","Passage",255],["Passage","Fairhaven",227],["Fairhaven","Thaliost",361],["Sterngate","Zolanberg",214],["Zolanberg","Korranberg",195]],rails3E:[["Krona Peak","Irontown",142],["Irontown","Vulyar",456],["Korth","Rekkenmark",141],["Korth","Atur",332],["Atur","Vedykar",227],["Vedykar","Fort Zombie",239],["Sharn","First Tower",56],["First Tower","Wroat",417],["Wroat","Hatheril",717],["Hatheril","Starilaskur",372],["Hatheril","Sword Keep",150],["Wroat","Starilaskur",939],["Starilaskur","Sterngate",369],["Starilaskur","Vathirond",287],["Vathirond","Aruldusk",262],["Aruldusk","Sigilstar",166],["Sigilstar","Flamekeep",300],["Sword Keep","Marketplace",97],["Marketplace","Passage",369],["Passage","Fairhaven",348],["Fairhaven","Thaliost",617],["Sterngate","Zolanberg",386],["Zolanberg","Korranberg",300]],basePrices:{"ERLW (5E) - per mile":[{tier:"Any",price:.5,pricingMethod:"per mile",mod:1}],"WGtE (5E) - per day":[{tier:"Flat",price:1,pricingMethod:"per hour",mod:24},{tier:"Luxury",price:4,pricingMethod:"per hour",mod:24}],"ECG (4E) - per mile":[{tier:"First Class",price:.5,pricingMethod:"per mile",mod:1},{tier:"Standard",price:.2,pricingMethod:"per mile",mod:1},{tier:"Steerage",price:.03,pricingMethod:"per mile",mod:1}]},startStation:"",finishStation:"",miles:0,path:[]},reducers:{startStationChange:function(e,t){var a=t.payload;e.startStation=b(a)},finishStationChange:function(e,t){var a=t.payload;e.finishStation=b(a)},setMiles:function(e,t){var a=t.payload;e.miles=a},setPath:function(e,t){var a=t.payload;e.path=a},setCombinedRails:function(e,t){var a=t.payload;e.combinedRails=a}}}),g=f.actions,v=g.startStationChange,E=g.finishStationChange,k=g.setMiles,S=g.setPath,y=(g.setCombinedRails,function(e){return e.main}),O=f.reducer,C=function(e){var t=e.stations,a=e.letsTravel,n=Object(d.b)();return l.a.createElement("div",{className:"form"},l.a.createElement("div",null,l.a.createElement(p,{placeholder:"From...",onChangeFunc:function(e){return n(v(e.target.value))},stations:t}),l.a.createElement(p,{placeholder:"To...",onChangeFunc:function(e){return n(E(e.target.value))},stations:t})),l.a.createElement("button",{onClick:a},"Calculate"))},j=(a(27),{costMode:"All",distanceSource:"4E",speed:30,layover:1,colorPrices:!1,customRails:[["Thaliost","Rekkenmark",27],["Vedykar","Vulyar",147],["Vulyar","Gatherhold",302]],customPrices:{"Custom - per mile":[{tier:"Flat",price:.01,pricingMethod:"per mile",mod:1}],"Custom - per hour":[{tier:"Standard",price:1,pricingMethod:"per hour",mod:24}]}}),w=(n="settingsStore",r=j,localStorage.getItem(n)?JSON.parse(localStorage.getItem(n)):r),F=Object(u.a)(Object(u.a)({},j),w),M=Object(h.b)({name:"settings",initialState:F,reducers:{costModeChange:function(e,t){var a=t.payload;e.costMode=a},distanceSourceChange:function(e,t){var a=t.payload;e.distanceSource=a},speedChange:function(e,t){var a=t.payload;e.speed=a},layoverChange:function(e,t){var a=t.payload;e.layover=a},setCustomRails:function(e,t){var a=t.payload;e.customRails=a},setCustomPrices:function(e,t){var a=t.payload;e.customPrices=a},ColorPricesChange:function(e,t){var a=t.payload;console.log(a),e.colorPrices=a}}}),N=M.actions,V=N.costModeChange,P=N.distanceSourceChange,x=N.speedChange,R=N.setCustomRails,A=N.layoverChange,K=N.setCustomPrices,W=N.ColorPricesChange,T=function(e){return e.settings},J=M.reducer,I=function(e){var t=Object(d.c)(y),a=t.miles,n=t.path,r=t.basePrices,c=Object(d.c)(T),o=c.costMode,i=c.speed,s=c.layover,m=c.customPrices,p=c.colorPrices,h=a/i+(n.length-2)*s,b=Math.trunc(h/24),f=Math.trunc(h)-24*b,g=Math.ceil(60*(h-Math.trunc(h))),v=Object(u.a)(Object(u.a)({},r),m),E=Object.keys(v),k=function(e){if(p)switch(e){case"gold":return{color:"gold",textShadow:"black 0px 0px 5px"};case"silver":return{color:"silver",textShadow:"black 0px 0px 5px"};case"copper":return{color:"#da8932",textShadow:"black 0px 0px 5px"};default:return{color:"black"}}return{color:"black"}},S=function(e){if("All"===o||e===o)return l.a.createElement("li",null,e,":",l.a.createElement("ul",null,v[e].map((function(e){var t,n=function(e){return"per mile"===e.pricingMethod?a*e.price/e.mod:a/i/e.mod*e.price}(e),r=(t=n,[Math.trunc(t),Math.trunc(t%1*10),Math.trunc(t%1*10%1*10)]);return l.a.createElement("li",null,l.a.createElement("span",{className:"answer-category-italic"},e.tier+": "),l.a.createElement("span",{className:"answer-cost-bold",style:k("gold")},r[0]?r[0]+"gp ":""),l.a.createElement("span",{className:"answer-cost-bold",style:k("silver")},r[1]?r[1]+"sp ":""),l.a.createElement("span",{className:"answer-cost-bold",style:k("copper")},r[2]?r[2]+"cp ":""))}))))};return l.a.createElement("div",{className:"answer"},l.a.createElement("div",{className:"answer-block answer-distance"},"Distance: ",l.a.createElement("span",{className:"answer-cost-bold "},a," miles")),l.a.createElement("div",{className:"answer-block answer-time"},"Travel time: ",l.a.createElement("span",{className:"answer-cost-bold "},b?b+":":"",f/10<1&&b?"0"+f:f,":",g/10<1?"0"+g:g," "),s?"(with "+s+" hour(s) layover at each station)":""),l.a.createElement("div",{className:"answer-block answer-cost"},"Cost:",l.a.createElement("ul",null,E.map((function(e){return S(e)})))),l.a.createElement("div",{className:"answer-block answer-path"},"Stations:",l.a.createElement("ul",null,n.map((function(e){return l.a.createElement("li",{key:e},e[0])})))))},H=function(e){var t=e.list,a=e.label,n=e.onFunc,r=e.defValue;return l.a.createElement("div",{className:"settings-block"},l.a.createElement("label",null,a),l.a.createElement("select",{onChange:n,defaultValue:r},t.map((function(e){return l.a.createElement("option",{key:e,value:e},e)}))))},Z=function(e){var t=e.label,a=e.onFunc,n=e.defValue;return l.a.createElement("div",{className:"settings-block"},l.a.createElement("label",null,t),l.a.createElement("input",{type:"number",onChange:a,defaultValue:n,min:0,step:"any"}))},G=function(e){var t=e.label,a=e.onChangeFunc,n=e.saveFunc,r=e.resetFunc,c=e.defValue;return l.a.createElement("div",{className:"settings-block settings-custom"},l.a.createElement("label",null,t),l.a.createElement("textarea",{onChange:a,rows:"20",cols:"35",value:c,spellCheck:!1}),l.a.createElement("div",null,l.a.createElement("button",{onClick:n},"Save"),l.a.createElement("button",{onClick:r},"Reset")))},L=function(e){var t=e.label,a=e.onFunc,n=e.defValue;return l.a.createElement("div",{className:"settings-block"},l.a.createElement("label",null,t),l.a.createElement("input",{type:"checkbox",onChange:a,defaultChecked:n}))},B=(a(28),function(e){var t=Object(d.b)(),a=Object(d.c)(T),n=a.costMode,r=a.distanceSource,o=a.speed,i=a.layover,s=a.customRails,u=a.customPrices,p=a.colorPrices,h=Object(c.useState)(JSON.stringify(u,null,1)),b=Object(m.a)(h,2),f=b[0],g=b[1],v=Object(c.useState)(JSON.stringify(s,null,1)),E=Object(m.a)(v,2),k=E[0],S=E[1];return l.a.createElement("div",{className:"settings"},l.a.createElement(H,{list:["All","ERLW (5E) - per mile","WGtE (5E) - per day","ECG (4E) - per mile","Custom"],label:"Pricing method:",onFunc:function(e){return t(V(e.target.value))},defValue:n}),l.a.createElement(H,{list:["4E","3E","Only custom"],label:"Distances source:",onFunc:function(e){return t(P(e.target.value))},defValue:r}),l.a.createElement(Z,{label:"Speed (mph):",onFunc:function(e){return t(x(e.target.value))},defValue:o}),l.a.createElement(Z,{label:"Layover (hours):",onFunc:function(e){return t(A(e.target.value))},defValue:i}),l.a.createElement(L,{label:"Color prices:",onFunc:function(e){return t(W(!p))},defValue:p}),l.a.createElement(G,{label:"Custom prices:",onChangeFunc:function(e){return g(e.target.value)},saveFunc:function(){if(0!==f.length)try{t(K(JSON.parse(f)))}catch(e){alert(e)}else t(K({}))},resetFunc:function(){return g(JSON.stringify(u,null,1))},defValue:f}),l.a.createElement(G,{label:"Custom distances:",onChangeFunc:function(e){return S(e.target.value)},saveFunc:function(){if(0!==k.length)try{t(R(JSON.parse(k)))}catch(e){alert(e)}else t(R([]))},resetFunc:function(){return S(JSON.stringify(s,null,1))},defValue:k}))}),D=(a(29),function(){var e=Object(c.useState)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(d.c)(T),o=r.distanceSource,i=r.customRails,p=r.customPrices,h=Object(d.b)(),b=Object(d.c)(y),f=b.startStation,g=b.finishStation,v=b.miles,E=b.rails4E,O=b.rails3E,j=Object(d.c)(T),w=function(){var e=function(){switch(o){case"3E":return O;case"Only custom":return[];default:return E}}(),t={};return(e=e.concat(i)).forEach((function(e){t=Object(u.a)(Object(u.a)({},t),{},Object(s.a)({},e[0],Object(u.a)(Object(u.a)({},t[e[0]]),{},Object(s.a)({},e[1],e[2])))),t=Object(u.a)(Object(u.a)({},t),{},Object(s.a)({},e[1],Object(u.a)(Object(u.a)({},t[e[1]]),{},Object(s.a)({},e[0],e[2]))))})),t}(),F=Object.keys(w),M=function(e,t){return Object.keys(e).reduce((function(a,n){return null!==a||t.includes(n)||(a=n),e[n]<e[a]&&!t.includes(n)&&(a=n),a}),null)},N=function(){if(F.includes(f)&&F.includes(g)){if(n(!1),f!==g){var e=function(e,t){for(var a=Object(u.a)(Object(u.a)({},w[e]),{},Object(s.a)({},e,0)),n=[],r=0;r<F.length;r++)Object.keys(a).includes(F[r])||(a=Object(u.a)(Object(u.a)({},a),{},Object(s.a)({},F[r],1/0)));var c={};for(var l in w[e])c[l]=e;for(var o=M(a,n);o;){var i=a[o],m=w[o];for(var d in m){var p=i+m[d];(!a[d]||a[d]>p)&&(a[d]=p,c[d]=o)}n.push(o),o=M(a,n)}delete c[e];var h=[[t]],b=c[t];for(var f in c)b&&(h.push([b]),b=c[b]);return h.reverse(),[a[t],h]}(f,g);h(k(e[0])),h(S(e[1]))}}else n(!0)};return Object(c.useEffect)((function(){!function(e,t){localStorage.setItem(e,JSON.stringify(t))}("settingsStore",j)}),[j]),Object(c.useEffect)((function(){""!==f&&""!==g&&N()}),[p,i]),l.a.createElement("main",null,l.a.createElement(C,{stations:F,letsTravel:N}),a?l.a.createElement("span",{className:"error-message"},"One or both stations doesn't exist"):"",v&&!a?l.a.createElement(I,null):"",l.a.createElement(B,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(3),$=Object(U.c)({main:O,settings:J}),q=Object(h.a)({reducer:$});i.a.render(l.a.createElement(d.a,{store:q}," ",l.a.createElement(D,null)," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.7ca1ae7f.chunk.js.map