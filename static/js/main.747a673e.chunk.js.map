{"version":3,"sources":["components/StationInput/StationInput.js","slices/main.js","containers/SearchForm/SearchForm.js","slices/settings.js","components/AnswerOutput/AnswerOutput.js","components/Settings/Settings.js","App.js","serviceWorker.js","index.js"],"names":["StationInput","props","className","onChange","onChangeFunc","type","list","placeholder","id","Object","keys","rails","sort","map","item","key","value","capitalize","text","split","word","charAt","toUpperCase","substr","toLowerCase","join","mainSlice","createSlice","name","initialState","startStation","finishStation","miles","path","reducers","startStationChange","state","payload","finishStationChange","setMiles","setPath","actions","mainSelector","main","SearchForm","dispatch","useDispatch","useSelector","event","target","settingsSlice","costMode","distanceSource","costModeChange","distanceSourceChange","settingsSelector","settings","AnswerOutput","time","length","days","Math","trunc","hours","minutes","ceil","costERLW","toFixed","renderCostERLW","costWGtE","costWGtEFlat","costWGtELuxury","renderCostWGtE","costECGSteerage","costECGStandard","costECGFirstClass","renderCostECG","Settings","for","defaultValue","disabled","App","stations","findLowestCostNode","costs","processed","reduce","lowest","node","includes","letsTravel","answer","start","finish","weights","visited","i","Infinity","child","costToReachNode","childrenOfNode","costToChild","push","optimalPath","parent","reverse","findingPath","useEffect","Boolean","window","location","hostname","match","rootReducer","combineReducers","mainReducer","settingsReducer","store","configureStore","reducer","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.747a673e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './StationInput.scss';\r\n\r\nconst StationInput = props => {\r\n\r\n  return (\r\n    <div className='station-block'>\r\n       <input onChange={props.onChangeFunc} className='station-input' type=\"text\" list=\"cities\" placeholder={props.placeholder} />\r\n\r\n        <datalist id=\"cities\">\r\n          {Object.keys(props.rails).sort().map((item, key) =>\r\n            <option key={key} value={item} />\r\n          )}\r\n        </datalist>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StationInput;\r\n\r\n//  https://developer.mozilla.org/en-US/docs/Web/HTML/Element/datalist","import { createSlice } from '@reduxjs/toolkit';\r\n\r\n// const checkLocalStorage = (item, defualt) => localStorage.getItem(item) ? JSON.parse(localStorage.getItem(item)) : defualt;\r\n// const placeToLocalStorage = (name, item) => localStorage.setItem(name, JSON.stringify(item));\r\n\r\nconst capitalize = text => {\r\n  if (!text == 0) {\r\n    const splitted = text.split(' ');\r\n    const newText = splitted.map(word => word.charAt(0).toUpperCase() + word.substr(1).toLowerCase());\r\n    return newText.join(' ');\r\n  } else {\r\n    return '';\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  rails: {\r\n    \"Rekkenmark\": {\r\n      \"Korth\": 112,\r\n      \"Thaliost\": 27\r\n    },\r\n    \"Korth\": {\r\n      \"Rekkenmark\": 112,\r\n      \"Atur\": 195\r\n    },\r\n    \"Atur\": {\r\n      \"Korth\": 195,\r\n      \"Vedykar\": 148\r\n    },\r\n    \"Vedykar\": {\r\n      \"Atur\": 148,\r\n      \"Fort Zombie\": 142,\r\n      \"Vulyar\": 104\r\n    },\r\n    \"Fort Zombie\": {\r\n      \"Vedykar\": 142,\r\n      \"Gatherhold\": 262\r\n    },\r\n    \"Krona Peak\": {\r\n      \"Irontown\": 104\r\n    },\r\n    \"Irontown\": {\r\n      \"Krona Peak\": 104,\r\n      \"Vulyar\": 315\r\n    },\r\n    \"Vulyar\": {\r\n      \"Irontown\": 315,\r\n      \"Vedykar\": 104\r\n    },\r\n    \"Thaliost\": {\r\n      \"Rekkenmark\": 27,\r\n      \"Fairhaven\": 361\r\n    },\r\n    \"Gatherhold\": {\r\n      \"Fort Zombie\": 262\r\n    },\r\n    \"Sharn\": {\r\n      \"Wroat\": 294\r\n    },\r\n    \"Wroat\": {\r\n      \"Sharn\": 294,\r\n      \"Hatheril\": 478,\r\n      \"Starilaskur\": 617\r\n    },\r\n    \"Hatheril\": {\r\n      \"Wroat\": 478,\r\n      \"Sword Keep\": 106\r\n    },\r\n    \"Sword Keep\": {\r\n      \"Hatheril\": 106,\r\n      \"Marketplace\": 96\r\n    },\r\n    \"Starilaskur\": {\r\n      \"Wroat\": 617,\r\n      \"Sterngate\": 269,\r\n      \"Vathirond\": 198\r\n    },\r\n    \"Sterngate\": {\r\n      \"Starilaskur\": 269,\r\n      \"Zolanberg\": 214\r\n    },\r\n    \"Vathirond\": {\r\n      \"Starilaskur\": 198,\r\n      \"Aruldusk\": 142\r\n    },\r\n    \"Aruldusk\": {\r\n      \"Vathirond\": 142,\r\n      \"Sigilstar\": 99\r\n    },\r\n    \"Sigilstar\": {\r\n      \"Aruldusk\": 99,\r\n      \"Flamekeep\": 194\r\n    },\r\n    \"Flamekeep\": {\r\n      \"Sigilstar\": 194\r\n    },\r\n    \"Marketplace\": {\r\n      \"Sword Keep\": 96,\r\n      \"Passage\": 255\r\n    },\r\n    \"Passage\": {\r\n      \"Marketplace\": 255,\r\n      \"Fairhaven\": 227\r\n    },\r\n    \"Fairhaven\": {\r\n      \"Passage\": 227,\r\n      \"Thaliost\": 361\r\n    },\r\n    \"Zolanberg\": {\r\n      \"Sterngate\": 214,\r\n      \"Korranberg\": 195\r\n    },\r\n    \"Korranberg\": {\r\n      \"Zolanberg\": 195\r\n    }\r\n  },\r\n  startStation: '',\r\n  finishStation: '',\r\n  miles: 0,\r\n  path: [],\r\n}\r\n\r\nconst mainSlice = createSlice({\r\n  name: 'main',\r\n  initialState,\r\n  reducers: {\r\n    startStationChange: (state, { payload }) => {\r\n      state.startStation = capitalize(payload);\r\n    },\r\n    finishStationChange: (state, { payload }) => {\r\n      state.finishStation = capitalize(payload);\r\n    },\r\n    setMiles: (state, { payload }) => {\r\n      state.miles = payload;\r\n    },\r\n    setPath: (state, { payload }) => {\r\n      state.path = payload;\r\n    },\r\n  }\r\n});\r\n\r\nexport const { startStationChange, finishStationChange, setMiles, setPath } = mainSlice.actions;\r\n\r\nexport const mainSelector = state => state.main;\r\n\r\nexport default mainSlice.reducer;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport StationInput from '../../components/StationInput/StationInput';\r\n\r\nimport './SearchForm.scss';\r\n\r\nimport { mainSelector, startStationChange, finishStationChange } from '../../slices/main';\r\n\r\nconst SearchForm = () => {\r\n\r\n  const dispatch = useDispatch();\r\n  const { rails } = useSelector(mainSelector);\r\n\r\n  const onStartStationChange = event => dispatch(startStationChange(event.target.value));\r\n  const onFinishStationChange = event => dispatch(finishStationChange(event.target.value));\r\n\r\n  return (\r\n    <div className='form'>\r\n      <StationInput placeholder=\"From...\" onChangeFunc={onStartStationChange} rails={rails} />\r\n      {/* <span>ðŸ ’</span> */}\r\n      <StationInput placeholder=\"To...\" onChangeFunc={onFinishStationChange} rails={rails} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst checkLocalStorage = (item, defualt) => localStorage.getItem(item) ? JSON.parse(localStorage.getItem(item)) : defualt;\r\nconst placeToLocalStorage = (name, item) => localStorage.setItem(name, JSON.stringify(item));\r\n\r\nconst initialState = {\r\n  costMode: '0',\r\n  distanceSource: '4E',\r\n}\r\n\r\nconst settingsSlice = createSlice({\r\n  name: 'settings',\r\n  initialState,\r\n  reducers: {\r\n    costModeChange: (state, { payload }) => {\r\n      state.costMode = payload;\r\n    },\r\n    distanceSourceChange: (state, { payload }) => {\r\n      state.distanceSource = payload;\r\n    },\r\n  }\r\n});\r\n\r\nexport const { costModeChange, distanceSourceChange } = settingsSlice.actions;\r\n\r\nexport const settingsSelector = state => state.settings;\r\n\r\nexport default settingsSlice.reducer;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport './AnswerOutput.scss';\r\n\r\nimport { mainSelector } from '../../slices/main';\r\nimport { settingsSelector } from '../../slices/settings';\r\n\r\nconst AnswerOutput = props => {\r\n\r\n  const { miles, path } = useSelector(mainSelector);\r\n  const { costMode } = useSelector(settingsSelector);\r\n\r\n  const speed = 30;\r\n\r\n  const time = (miles / speed) + path.length - 2;\r\n  const days = Math.trunc(time / 24);\r\n  const hours = Math.trunc(time) - (days * 24);\r\n  const minutes = Math.ceil((time - Math.trunc(time)) * 60);\r\n\r\n  const costERLW = miles * 0.5;\r\n\r\n  const renderCostERLW = () => {\r\n    if (costMode === '0' || costMode === '1') return (\r\n      <li>\r\n        ERLW(5E) - per mile: <span className='answer-cost-bold '>{Math.trunc(costERLW) + 'gp '}\r\n        {((costERLW % 1).toFixed(1) !== \"0.0\") ? (costERLW % 1).toFixed(1) * 10 + 'sp' : ''}</span>\r\n      </li>\r\n    )\r\n  }\r\n\r\n  const renderCostWGtE = () => {\r\n    if (costMode === '0' || costMode === '2') {\r\n      const costWGtE = miles / speed / 24;\r\n      const costWGtEFlat = [\r\n        Math.trunc(costWGtE),\r\n        Math.trunc(costWGtE % 1 * 10),\r\n        Math.trunc(costWGtE % 1 * 10 % 1 * 10)\r\n      ]\r\n      const costWGtELuxury = [\r\n        Math.trunc(costWGtE*4),\r\n        Math.trunc(costWGtE*4 % 1 * 10),\r\n        Math.trunc(costWGtE*4 % 1 * 10 % 1 * 10)\r\n      ]\r\n      return (\r\n        <li>WGtE(5E) - per day:\r\n          <ul>\r\n            <li>\r\n            <span className='answer-category-italic'>Flat: </span><span className='answer-cost-bold '>{costWGtEFlat[0] ? costWGtEFlat[0] + 'gp ' : ''} {costWGtEFlat[1] ? costWGtEFlat[1] + 'sp ' : ''}\r\n              {costWGtEFlat[2] ? costWGtEFlat[2] + 'cp ' : ''}</span>\r\n            </li>\r\n            <li>\r\n            <span className='answer-category-italic'>Luxury: </span><span className='answer-cost-bold '>{costWGtELuxury[0] ? costWGtELuxury[0] + 'gp ' : ''} {costWGtELuxury[1] ? costWGtELuxury[1] + 'sp ' : ''}\r\n              {costWGtELuxury[2] ? costWGtELuxury[2] + 'cp ' : ''}</span>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      )\r\n    }\r\n  }\r\n\r\n  const renderCostECG = () => {\r\n    if (costMode === '0' || costMode === '3') {\r\n      const costECGSteerage = [\r\n        Math.trunc(costERLW*0.06),\r\n        Math.trunc(costERLW*0.06 % 1 * 10),\r\n        Math.trunc(costERLW*0.06 % 1 * 10 % 1 * 10)\r\n      ]\r\n      const costECGStandard = [\r\n        Math.trunc(costERLW*0.4),\r\n        Math.trunc(costERLW*0.4 % 1 * 10),\r\n        Math.trunc(costERLW*0.4 % 1 * 10 % 1 * 10)\r\n      ]\r\n      const costECGFirstClass = [\r\n        Math.trunc(costERLW),\r\n        Math.trunc(costERLW % 1 * 10),\r\n        Math.trunc(costERLW % 1 * 10 % 1 * 10)\r\n      ]\r\n      return (\r\n        <li>ECG(4E) - per mile:\r\n          <ul>\r\n            <li>\r\n              <span className='answer-category-italic'>First Class: </span><span className='answer-cost-bold '>{costECGFirstClass[0] ? costECGFirstClass[0] + 'gp ' : ''} {costECGFirstClass[1] ? costECGFirstClass[1] + 'sp ' : ''}\r\n              {costECGFirstClass[2] ? costECGFirstClass[2] + 'cp ' : ''}</span>\r\n            </li>\r\n            <li>\r\n              <span className='answer-category-italic'>Standard: </span><span className='answer-cost-bold '>{costECGStandard[0] ? costECGStandard[0] + 'gp ' : ''} {costECGStandard[1] ? costECGStandard[1] + 'sp ' : ''}\r\n              {costECGStandard[2] ? costECGStandard[2] + 'cp ' : ''}</span>\r\n            </li>\r\n            <li>\r\n              <span className='answer-category-italic'>Steerage: </span><span className='answer-cost-bold '>{costECGSteerage[0] ? costECGSteerage[0] + 'gp ' : ''} {costECGSteerage[1] ? costECGSteerage[1] + 'sp ' : ''}\r\n              {costECGSteerage[2] ? costECGSteerage[2] + 'cp ' : ''}</span>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      )\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className='answer'>\r\n      <div className='answer-block answer-distance'>Distance: <span className='answer-cost-bold '>{miles} miles</span></div>\r\n      <div className='answer-block answer-time'>Travel time: <span className='answer-cost-bold '>\r\n      {days ? days+':' : ''}\r\n      {(hours / 10 < 1 && days) ? '0' + hours : hours}:\r\n      {minutes / 10 < 1 ? '0' + minutes : minutes} </span>\r\n      (with 1 hour layover at each station)\r\n      </div>\r\n\r\n      <div className='answer-block answer-cost'>Cost: \r\n      <ul>\r\n        {renderCostERLW()}\r\n        {renderCostWGtE()}\r\n        {renderCostECG()}\r\n      </ul>\r\n      </div>\r\n\r\n      <div className='answer-block answer-path'>Stations: \r\n      <ul>\r\n        {path.map(item => <li>{item}</li>)}\r\n      </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AnswerOutput;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport './Settings.scss';\r\n\r\nimport { settingsSelector, costModeChange, distanceSourceChange } from '../../slices/settings';\r\n\r\nconst Settings = props => {\r\n\r\n  const dispatch = useDispatch();\r\n  const { costMode, distanceSource } = useSelector(settingsSelector);\r\n\r\n  const onCostModeChange = event => dispatch(costModeChange(event.target.value));\r\n  const onDistanceSourceChange = event => dispatch(distanceSourceChange(event.target.value));\r\n\r\n  return (\r\n    <div className='settings'>\r\n        <div className='settings-block'>\r\n          <label for='settings-cost'>Pricing method:</label>\r\n          <select name=\"settings-cost\" onChange={onCostModeChange} defaultValue={costMode}>\r\n            <option value='0'>All</option>\r\n            <option value='1'>ERLW (5E) - per mile</option>\r\n            <option value='2'>WGtE (5E) - per day</option>\r\n            <option value='3'>ECG (4E) - per mile</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className='settings-block'>\r\n          <label for='settings-cost'>Distances source:</label>\r\n          <select name=\"settings-cost\" onChange={onDistanceSourceChange} defaultValue={distanceSource}>\r\n            <option value='4E'>4E</option>\r\n            <option value='3E'>3E</option>\r\n            <option disabled value='custom'>Custom</option>\r\n          </select>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Settings;","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Form from './containers/SearchForm/SearchForm';\nimport AnswerOutput from './components/AnswerOutput/AnswerOutput';\nimport Settings from './components/Settings/Settings';\n\nimport './App.scss';\n\nimport { mainSelector, setMiles, setPath } from './slices/main';\n\nconst App = () => {\n\n  const dispatch = useDispatch();\n  const { startStation, finishStation, rails, miles } = useSelector(mainSelector);\n\n  const stations = Object.keys(rails);\n\n  const findLowestCostNode = (costs, processed) => {\n    const knownNodes = Object.keys(costs)\n    \n    const lowestCostNode = knownNodes.reduce((lowest, node) => {\n        if (lowest === null && !processed.includes(node)) {\n          lowest = node;\n        }\n        if (costs[node] < costs[lowest] && !processed.includes(node)) {\n          lowest = node;\n        }\n        return lowest;\n    }, null);\n  \n    return lowestCostNode\n  };\n\n  const findingPath = (start, finish) => {\n    let weights = {...rails[start], [start]: 0};\n    let visited = [];\n\n    for (let i = 0; i < stations.length; i++) {\n      if (!Object.keys(weights).includes(stations[i])) {\n        weights = {...weights, [stations[i]]: Infinity};\n      }\n    }\n\n    //let path = {[finish]: null};\n    let path = {};\n    for (let child in rails[start]) {\n      path[child] = start;\n    }\n\n    let node = findLowestCostNode(weights, visited);\n\n    while (node) {\n      let costToReachNode = weights[node];\n      let childrenOfNode = rails[node];\n    \n      for (let child in childrenOfNode) {\n        let costFromNodetoChild = childrenOfNode[child]\n        let costToChild = costToReachNode + costFromNodetoChild;\n    \n        if (!weights[child] || weights[child] > costToChild) {\n          weights[child] = costToChild;\n          path[child] = node;\n        }\n      }\n    \n      visited.push(node);\n  \n      node = findLowestCostNode(weights, visited);\n    }\n\n    delete path[start];\n    let optimalPath = [finish];\n    let parent = path[finish];\n    for (let i in path) {\n      if (parent) {\n        optimalPath.push(parent);\n        parent = path[parent];\n      }\n    }\n    optimalPath.reverse();\n\n    return [weights[finish], optimalPath]\n\n  }\n\n  const letsTravel = () => {\n    if (startStation === finishStation) {\n      dispatch(setMiles(0));\n      dispatch(setPath([]));\n    } else {\n      const answer = findingPath(startStation, finishStation);\n      dispatch(setMiles(answer[0]));\n      dispatch(setPath(answer[1]));\n    }\n  }\n\n  useEffect(() => {\n    if (stations.includes(startStation) && stations.includes(finishStation)) letsTravel();\n  }, [startStation, finishStation]);\n\n  // const addStation = (first, second, dist) => {\n  //   if (!rails2[first]) {\n  //     rails2 = {...rails2, [first]: {[second]: dist}}\n  //   } else {\n  //     rails2 = {...rails2, [first]: {...rails2[first], [second]: dist}}\n  //   }\n\n  //   if (!rails2[second]) {\n  //     rails2 = {...rails2, [second]: {[first]: dist}}\n  //   } else {\n  //     rails2 = {...rails2, [second]: {...rails2[second], [first]: dist}}\n  //   }\n  //   console.log(rails2);\n  // }\n\n  return (\n    <main>\n      <Form />\n      {miles ? <AnswerOutput /> : ''}\n      <Settings />\n    </main>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { configureStore } from '@reduxjs/toolkit';\nimport { Provider } from 'react-redux';\nimport { combineReducers } from 'redux';\n\nimport mainReducer from './slices/main';\nimport settingsReducer from './slices/settings';\n\nconst rootReducer = combineReducers({\n  main: mainReducer,\n  settings: settingsReducer,\n});\n\nconst store = configureStore({ reducer: rootReducer });\n\nReactDOM.render(<Provider store={store}> <App /> </Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}