(this["webpackJsonpeberron-trains"]=this["webpackJsonpeberron-trains"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r,l=a(0),c=a.n(l),s=a(6),o=a.n(s),i=(a(18),a(4)),u=a(1),m=a(2),d=(a(25),function(e){return c.a.createElement("div",{className:"station-block"},c.a.createElement("input",{onChange:e.onChangeFunc,className:"station-input",type:"text",list:"cities",placeholder:e.placeholder}),c.a.createElement("datalist",{id:"cities"},e.stations.sort().map((function(e,t){return c.a.createElement("option",{key:t,value:e})}))))}),h=(a(26),a(5)),p=function(e){return 0==!e?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(" "):""},E=Object(h.b)({name:"main",initialState:{rails4E:[["Krona Peak","Irontown",104],["Irontown","Vulyar",315],["Korth","Rekkenmark",112],["Korth","Atur",195],["Atur","Vedykar",148],["Vedykar","Fort Zombie",142],["Sharn","Wroat",294],["Wroat","Hatheril",478],["Hatheril","Sword Keep",106],["Wroat","Starilaskur",617],["Starilaskur","Sterngate",269],["Starilaskur","Vathirond",198],["Vathirond","Aruldusk",142],["Aruldusk","Sigilstar",99],["Sigilstar","Flamekeep",194],["Sword Keep","Marketplace",96],["Marketplace","Passage",255],["Passage","Fairhaven",227],["Fairhaven","Thaliost",361],["Sterngate","Zolanberg",214],["Zolanberg","Korranberg",195]],rails3E:[["Krona Peak","Irontown",104],["Irontown","Vulyar",315],["Korth","Rekkenmark",112],["Korth","Atur",195],["Atur","Vedykar",148],["Vedykar","Fort Zombie",142],["Sharn","Wroat",294],["Wroat","Hatheril",478],["Hatheril","Sword Keep",106],["Wroat","Starilaskur",617],["Starilaskur","Sterngate",269],["Starilaskur","Vathirond",198],["Vathirond","Aruldusk",142],["Aruldusk","Sigilstar",99],["Sigilstar","Flamekeep",194],["Sword Keep","Marketplace",96],["Marketplace","Passage",255],["Passage","Fairhaven",227],["Fairhaven","Thaliost",361],["Sterngate","Zolanberg",214],["Zolanberg","Korranberg",195]],combinedRails:[],startStation:"",finishStation:"",miles:0,path:[]},reducers:{startStationChange:function(e,t){var a=t.payload;e.startStation=p(a)},finishStationChange:function(e,t){var a=t.payload;e.finishStation=p(a)},setMiles:function(e,t){var a=t.payload;e.miles=a},setPath:function(e,t){var a=t.payload;e.path=a},setCombinedRails:function(e,t){var a=t.payload;e.combinedRails=a}}}),b=E.actions,g=b.startStationChange,v=b.finishStationChange,f=b.setMiles,k=b.setPath,S=(b.setCombinedRails,function(e){return e.main}),y=E.reducer,w=function(e){var t=e.stations,a=e.letsTravel,n=Object(m.b)();return c.a.createElement("div",{className:"form"},c.a.createElement("div",null,c.a.createElement(d,{placeholder:"From...",onChangeFunc:function(e){return n(g(e.target.value))},stations:t}),c.a.createElement(d,{placeholder:"To...",onChangeFunc:function(e){return n(v(e.target.value))},stations:t})),c.a.createElement("button",{onClick:a},"Calculate"))},O=(a(27),{costMode:"0",distanceSource:"4E",speed:30,layover:1,customRails:[["Thaliost","Rekkenmark",27],["Vedykar","Vulyar",147],["Vulyar","Gatherhold",302]]}),j=(n="settingsStore",r=O,localStorage.getItem(n)?JSON.parse(localStorage.getItem(n)):r),C=Object(u.a)(Object(u.a)({},O),j),N=Object(h.b)({name:"settings",initialState:C,reducers:{costModeChange:function(e,t){var a=t.payload;e.costMode=a},distanceSourceChange:function(e,t){var a=t.payload;e.distanceSource=a},speedChange:function(e,t){var a=t.payload;e.speed=a},layoverChange:function(e,t){var a=t.payload;e.layover=a},setCustomRails:function(e,t){var a=t.payload;e.customRails=a}}}),M=N.actions,R=M.costModeChange,V=M.distanceSourceChange,F=M.speedChange,K=M.setCustomRails,W=M.layoverChange,A=function(e){return e.settings},x=N.reducer,P=function(e){var t=Object(m.c)(S),a=t.miles,n=t.path,r=Object(m.c)(A),l=r.costMode,s=r.speed,o=r.layover,i=a/s+(n.length-2)*o,u=Math.trunc(i/24),d=Math.trunc(i)-24*u,h=Math.ceil(60*(i-Math.trunc(i))),p=.5*a;return c.a.createElement("div",{className:"answer"},c.a.createElement("div",{className:"answer-block answer-distance"},"Distance: ",c.a.createElement("span",{className:"answer-cost-bold "},a," miles")),c.a.createElement("div",{className:"answer-block answer-time"},"Travel time: ",c.a.createElement("span",{className:"answer-cost-bold "},u?u+":":"",d/10<1&&u?"0"+d:d,":",h/10<1?"0"+h:h," "),o?"(with "+o+" hour(s) layover at each station)":""),c.a.createElement("div",{className:"answer-block answer-cost"},"Cost:",c.a.createElement("ul",null,function(){if("0"===l||"1"===l)return c.a.createElement("li",null,"ERLW(5E) - per mile: ",c.a.createElement("span",{className:"answer-cost-bold "},Math.trunc(p)+"gp ","0.0"!==(p%1).toFixed(1)?10*(p%1).toFixed(1)+"sp":""))}(),function(){if("0"===l||"2"===l){var e=a/s/24,t=[Math.trunc(e),Math.trunc(e%1*10),Math.trunc(e%1*10%1*10)],n=[Math.trunc(4*e),Math.trunc(4*e%1*10),Math.trunc(4*e%1*10%1*10)];return c.a.createElement("li",null,"WGtE(5E) - per day:",c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",{className:"answer-category-italic"},"Flat: "),c.a.createElement("span",{className:"answer-cost-bold "},t[0]?t[0]+"gp ":""," ",t[1]?t[1]+"sp ":"",t[2]?t[2]+"cp ":"")),c.a.createElement("li",null,c.a.createElement("span",{className:"answer-category-italic"},"Luxury: "),c.a.createElement("span",{className:"answer-cost-bold "},n[0]?n[0]+"gp ":""," ",n[1]?n[1]+"sp ":"",n[2]?n[2]+"cp ":""))))}}(),function(){if("0"===l||"3"===l){var e=[Math.trunc(.06*p),Math.trunc(.06*p%1*10),Math.trunc(.06*p%1*10%1*10)],t=[Math.trunc(.4*p),Math.trunc(.4*p%1*10),Math.trunc(.4*p%1*10%1*10)],a=[Math.trunc(p),Math.trunc(p%1*10),Math.trunc(p%1*10%1*10)];return c.a.createElement("li",null,"ECG(4E) - per mile:",c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",{className:"answer-category-italic"},"First Class: "),c.a.createElement("span",{className:"answer-cost-bold "},a[0]?a[0]+"gp ":""," ",a[1]?a[1]+"sp ":"",a[2]?a[2]+"cp ":"")),c.a.createElement("li",null,c.a.createElement("span",{className:"answer-category-italic"},"Standard: "),c.a.createElement("span",{className:"answer-cost-bold "},t[0]?t[0]+"gp ":""," ",t[1]?t[1]+"sp ":"",t[2]?t[2]+"cp ":"")),c.a.createElement("li",null,c.a.createElement("span",{className:"answer-category-italic"},"Steerage: "),c.a.createElement("span",{className:"answer-cost-bold "},e[0]?e[0]+"gp ":""," ",e[1]?e[1]+"sp ":"",e[2]?e[2]+"cp ":""))))}}())),c.a.createElement("div",{className:"answer-block answer-path"},"Stations:",c.a.createElement("ul",null,n.map((function(e){return c.a.createElement("li",{key:e},e)})))))},I=a(12),J=(a(28),function(e){var t=Object(m.b)(),a=Object(m.c)(A),n=a.costMode,r=a.distanceSource,s=a.speed,o=a.layover,i=a.customRails,u=Object(l.useState)(JSON.stringify(i)),d=Object(I.a)(u,2),h=d[0],p=d[1];return c.a.createElement("div",{className:"settings"},c.a.createElement("div",{className:"settings-block"},c.a.createElement("label",null,"Pricing method:"),c.a.createElement("select",{onChange:function(e){return t(R(e.target.value))},defaultValue:n},c.a.createElement("option",{value:"0"},"All"),c.a.createElement("option",{value:"1"},"ERLW (5E) - per mile"),c.a.createElement("option",{value:"2"},"WGtE (5E) - per day"),c.a.createElement("option",{value:"3"},"ECG (4E) - per mile"))),c.a.createElement("div",{className:"settings-block"},c.a.createElement("label",null,"Distances source:"),c.a.createElement("select",{onChange:function(e){return t(V(e.target.value))},defaultValue:r},c.a.createElement("option",{value:"4E"},"4E"),c.a.createElement("option",{value:"3E"},"3E"))),c.a.createElement("div",{className:"settings-block"},c.a.createElement("label",null,"Speed (mph):"),c.a.createElement("input",{onChange:function(e){return t(F(e.target.value))},type:"number",defaultValue:s,style:{width:"50px"}})),c.a.createElement("div",{className:"settings-block"},c.a.createElement("label",null,"Layover (hours):"),c.a.createElement("input",{onChange:function(e){return t(W(e.target.value))},type:"number",defaultValue:o,style:{width:"50px"}})),c.a.createElement("div",{className:"settings-block settings-customDistances"},c.a.createElement("label",null,"Custom prices:"),c.a.createElement("textarea",{rows:"5",cols:"32",value:h,spellCheck:!1}),c.a.createElement("div",null,c.a.createElement("button",null,"Save"),c.a.createElement("button",null,"Reset"))),c.a.createElement("div",{className:"settings-block settings-customDistances"},c.a.createElement("label",null,"Custom distances:"),c.a.createElement("textarea",{onChange:function(e){return p(e.target.value)},rows:"5",cols:"32",value:h,spellCheck:!1}),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){0!==h.length?t(K(JSON.parse(h))):t(K([]))}},"Save"),c.a.createElement("button",{onClick:function(){return p(JSON.stringify(i))}},"Reset"))))}),T=(a(29),function(){var e=Object(m.c)(A),t=e.distanceSource,a=e.customRails,n=Object(m.b)(),r=Object(m.c)(S),l=r.startStation,s=r.finishStation,o=r.miles,d=r.rails4E,h=r.rails3E,p=(r.combinedRails,Object(m.c)(A)),E=function(){var e=function(){switch(t){case"3E":return console.log(123),h;default:return d}}(),n={};return(e=e.concat(a)).forEach((function(e){n=Object(u.a)(Object(u.a)({},n),{},Object(i.a)({},e[0],Object(u.a)(Object(u.a)({},n[e[0]]),{},Object(i.a)({},e[1],e[2])))),n=Object(u.a)(Object(u.a)({},n),{},Object(i.a)({},e[1],Object(u.a)(Object(u.a)({},n[e[1]]),{},Object(i.a)({},e[0],e[2]))))})),n}(),b=Object.keys(E),g=function(e,t){return Object.keys(e).reduce((function(a,n){return null!==a||t.includes(n)||(a=n),e[n]<e[a]&&!t.includes(n)&&(a=n),a}),null)};return window.onbeforeunload=function(){!function(e,t){localStorage.setItem(e,JSON.stringify(t))}("settingsStore",p)},c.a.createElement("main",null,c.a.createElement(w,{stations:b,letsTravel:function(){if(b.includes(l)&&b.includes(s)){var e=function(e,t){for(var a=Object(u.a)(Object(u.a)({},E[e]),{},Object(i.a)({},e,0)),n=[],r=0;r<b.length;r++)Object.keys(a).includes(b[r])||(a=Object(u.a)(Object(u.a)({},a),{},Object(i.a)({},b[r],1/0)));var l={};for(var c in E[e])l[c]=e;for(var s=g(a,n);s;){var o=a[s],m=E[s];for(var d in m){var h=o+m[d];(!a[d]||a[d]>h)&&(a[d]=h,l[d]=s)}n.push(s),s=g(a,n)}delete l[e];var p=[t],v=l[t];for(var f in l)v&&(p.push(v),v=l[v]);return p.reverse(),[a[t],p]}(l,s);n(f(e[0])),n(k(e[1]))}}}),o?c.a.createElement(P,null):"",c.a.createElement(J,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(3),G=Object(Z.c)({main:y,settings:x}),L=Object(h.a)({reducer:G});o.a.render(c.a.createElement(m.a,{store:L}," ",c.a.createElement(T,null)," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.db2ae36b.chunk.js.map