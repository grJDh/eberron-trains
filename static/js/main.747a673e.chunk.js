(this["webpackJsonpeberron-trains"]=this["webpackJsonpeberron-trains"]||[]).push([[0],[,,,,,,,,,,,,function(e,a,t){e.exports=t(29)},,,,,function(e,a,t){},,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(6),l=t.n(c),s=(t(17),t(4)),o=t(5),i=t(1),u=(t(24),function(e){return r.a.createElement("div",{className:"station-block"},r.a.createElement("input",{onChange:e.onChangeFunc,className:"station-input",type:"text",list:"cities",placeholder:e.placeholder}),r.a.createElement("datalist",{id:"cities"},Object.keys(e.rails).sort().map((function(e,a){return r.a.createElement("option",{key:a,value:e})}))))}),m=(t(25),t(3)),h=function(e){return 0==!e?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(" "):""},d=Object(m.b)({name:"main",initialState:{rails:{Rekkenmark:{Korth:112,Thaliost:27},Korth:{Rekkenmark:112,Atur:195},Atur:{Korth:195,Vedykar:148},Vedykar:{Atur:148,"Fort Zombie":142,Vulyar:104},"Fort Zombie":{Vedykar:142,Gatherhold:262},"Krona Peak":{Irontown:104},Irontown:{"Krona Peak":104,Vulyar:315},Vulyar:{Irontown:315,Vedykar:104},Thaliost:{Rekkenmark:27,Fairhaven:361},Gatherhold:{"Fort Zombie":262},Sharn:{Wroat:294},Wroat:{Sharn:294,Hatheril:478,Starilaskur:617},Hatheril:{Wroat:478,"Sword Keep":106},"Sword Keep":{Hatheril:106,Marketplace:96},Starilaskur:{Wroat:617,Sterngate:269,Vathirond:198},Sterngate:{Starilaskur:269,Zolanberg:214},Vathirond:{Starilaskur:198,Aruldusk:142},Aruldusk:{Vathirond:142,Sigilstar:99},Sigilstar:{Aruldusk:99,Flamekeep:194},Flamekeep:{Sigilstar:194},Marketplace:{"Sword Keep":96,Passage:255},Passage:{Marketplace:255,Fairhaven:227},Fairhaven:{Passage:227,Thaliost:361},Zolanberg:{Sterngate:214,Korranberg:195},Korranberg:{Zolanberg:195}},startStation:"",finishStation:"",miles:0,path:[]},reducers:{startStationChange:function(e,a){var t=a.payload;e.startStation=h(t)},finishStationChange:function(e,a){var t=a.payload;e.finishStation=h(t)},setMiles:function(e,a){var t=a.payload;e.miles=t},setPath:function(e,a){var t=a.payload;e.path=t}}}),p=d.actions,E=p.startStationChange,g=p.finishStationChange,f=p.setMiles,b=p.setPath,v=function(e){return e.main},k=d.reducer,w=function(){var e=Object(i.b)(),a=Object(i.c)(v).rails;return r.a.createElement("div",{className:"form"},r.a.createElement(u,{placeholder:"From...",onChangeFunc:function(a){return e(E(a.target.value))},rails:a}),r.a.createElement(u,{placeholder:"To...",onChangeFunc:function(a){return e(g(a.target.value))},rails:a}))},S=(t(26),Object(m.b)({name:"settings",initialState:{costMode:"0",distanceSource:"4E"},reducers:{costModeChange:function(e,a){var t=a.payload;e.costMode=t},distanceSourceChange:function(e,a){var t=a.payload;e.distanceSource=t}}})),M=S.actions,y=M.costModeChange,j=M.distanceSourceChange,N=function(e){return e.settings},O=S.reducer,C=function(e){var a=Object(i.c)(v),t=a.miles,n=a.path,c=Object(i.c)(N).costMode,l=t/30+n.length-2,s=Math.trunc(l/24),o=Math.trunc(l)-24*s,u=Math.ceil(60*(l-Math.trunc(l))),m=.5*t;return r.a.createElement("div",{className:"answer"},r.a.createElement("div",{className:"answer-block answer-distance"},"Distance: ",r.a.createElement("span",{className:"answer-cost-bold "},t," miles")),r.a.createElement("div",{className:"answer-block answer-time"},"Travel time: ",r.a.createElement("span",{className:"answer-cost-bold "},s?s+":":"",o/10<1&&s?"0"+o:o,":",u/10<1?"0"+u:u," "),"(with 1 hour layover at each station)"),r.a.createElement("div",{className:"answer-block answer-cost"},"Cost:",r.a.createElement("ul",null,function(){if("0"===c||"1"===c)return r.a.createElement("li",null,"ERLW(5E) - per mile: ",r.a.createElement("span",{className:"answer-cost-bold "},Math.trunc(m)+"gp ","0.0"!==(m%1).toFixed(1)?10*(m%1).toFixed(1)+"sp":""))}(),function(){if("0"===c||"2"===c){var e=t/30/24,a=[Math.trunc(e),Math.trunc(e%1*10),Math.trunc(e%1*10%1*10)],n=[Math.trunc(4*e),Math.trunc(4*e%1*10),Math.trunc(4*e%1*10%1*10)];return r.a.createElement("li",null,"WGtE(5E) - per day:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"answer-category-italic"},"Flat: "),r.a.createElement("span",{className:"answer-cost-bold "},a[0]?a[0]+"gp ":""," ",a[1]?a[1]+"sp ":"",a[2]?a[2]+"cp ":"")),r.a.createElement("li",null,r.a.createElement("span",{className:"answer-category-italic"},"Luxury: "),r.a.createElement("span",{className:"answer-cost-bold "},n[0]?n[0]+"gp ":""," ",n[1]?n[1]+"sp ":"",n[2]?n[2]+"cp ":""))))}}(),function(){if("0"===c||"3"===c){var e=[Math.trunc(.06*m),Math.trunc(.06*m%1*10),Math.trunc(.06*m%1*10%1*10)],a=[Math.trunc(.4*m),Math.trunc(.4*m%1*10),Math.trunc(.4*m%1*10%1*10)],t=[Math.trunc(m),Math.trunc(m%1*10),Math.trunc(m%1*10%1*10)];return r.a.createElement("li",null,"ECG(4E) - per mile:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"answer-category-italic"},"First Class: "),r.a.createElement("span",{className:"answer-cost-bold "},t[0]?t[0]+"gp ":""," ",t[1]?t[1]+"sp ":"",t[2]?t[2]+"cp ":"")),r.a.createElement("li",null,r.a.createElement("span",{className:"answer-category-italic"},"Standard: "),r.a.createElement("span",{className:"answer-cost-bold "},a[0]?a[0]+"gp ":""," ",a[1]?a[1]+"sp ":"",a[2]?a[2]+"cp ":"")),r.a.createElement("li",null,r.a.createElement("span",{className:"answer-category-italic"},"Steerage: "),r.a.createElement("span",{className:"answer-cost-bold "},e[0]?e[0]+"gp ":""," ",e[1]?e[1]+"sp ":"",e[2]?e[2]+"cp ":""))))}}())),r.a.createElement("div",{className:"answer-block answer-path"},"Stations:",r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",null,e)})))))},F=(t(27),function(e){var a=Object(i.b)(),t=Object(i.c)(N),n=t.costMode,c=t.distanceSource;return r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"settings-block"},r.a.createElement("label",{for:"settings-cost"},"Pricing method:"),r.a.createElement("select",{name:"settings-cost",onChange:function(e){return a(y(e.target.value))},defaultValue:n},r.a.createElement("option",{value:"0"},"All"),r.a.createElement("option",{value:"1"},"ERLW (5E) - per mile"),r.a.createElement("option",{value:"2"},"WGtE (5E) - per day"),r.a.createElement("option",{value:"3"},"ECG (4E) - per mile"))),r.a.createElement("div",{className:"settings-block"},r.a.createElement("label",{for:"settings-cost"},"Distances source:"),r.a.createElement("select",{name:"settings-cost",onChange:function(e){return a(j(e.target.value))},defaultValue:c},r.a.createElement("option",{value:"4E"},"4E"),r.a.createElement("option",{value:"3E"},"3E"),r.a.createElement("option",{disabled:!0,value:"custom"},"Custom"))))}),V=(t(28),function(){var e=Object(i.b)(),a=Object(i.c)(v),t=a.startStation,c=a.finishStation,l=a.rails,u=a.miles,m=Object.keys(l),h=function(e,a){return Object.keys(e).reduce((function(t,n){return null!==t||a.includes(n)||(t=n),e[n]<e[t]&&!a.includes(n)&&(t=n),t}),null)},d=function(){if(t===c)e(f(0)),e(b([]));else{var a=function(e,a){for(var t=Object(o.a)(Object(o.a)({},l[e]),{},Object(s.a)({},e,0)),n=[],r=0;r<m.length;r++)Object.keys(t).includes(m[r])||(t=Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},m[r],1/0)));var c={};for(var i in l[e])c[i]=e;for(var u=h(t,n);u;){var d=t[u],p=l[u];for(var E in p){var g=d+p[E];(!t[E]||t[E]>g)&&(t[E]=g,c[E]=u)}n.push(u),u=h(t,n)}delete c[e];var f=[a],b=c[a];for(var v in c)b&&(f.push(b),b=c[b]);return f.reverse(),[t[a],f]}(t,c);e(f(a[0])),e(b(a[1]))}};return Object(n.useEffect)((function(){m.includes(t)&&m.includes(c)&&d()}),[t,c]),r.a.createElement("main",null,r.a.createElement(w,null),u?r.a.createElement(C,null):"",r.a.createElement(F,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=t(2),W=Object(K.c)({main:k,settings:O}),A=Object(m.a)({reducer:W});l.a.render(r.a.createElement(i.a,{store:A}," ",r.a.createElement(V,null)," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.747a673e.chunk.js.map