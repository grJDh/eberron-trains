(this["webpackJsonpeberron-trains"]=this["webpackJsonpeberron-trains"]||[]).push([[0],[,,,,,,,,,,,,function(e,a,t){e.exports=t(29)},,,,,function(e,a,t){},,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(6),c=t.n(l),s=(t(17),t(4)),o=t(5),i=t(1),u=(t(24),function(e){return n.a.createElement("div",{className:"station-block"},n.a.createElement("input",{onChange:e.onChangeFunc,className:"station-input",type:"text",list:"cities",placeholder:e.placeholder}),n.a.createElement("datalist",{id:"cities"},e.stations.sort().map((function(e,a){return n.a.createElement("option",{key:a,value:e})}))))}),m=(t(25),t(3)),h=function(e){return 0==!e?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(" "):""},d=Object(m.b)({name:"main",initialState:{rails4E:{Rekkenmark:{Korth:112,Thaliost:27},Korth:{Rekkenmark:112,Atur:195},Atur:{Korth:195,Vedykar:148},Vedykar:{Atur:148,"Fort Zombie":142,Vulyar:147},"Fort Zombie":{Vedykar:142,Gatherhold:262},"Krona Peak":{Irontown:104},Irontown:{"Krona Peak":104,Vulyar:315},Vulyar:{Irontown:315,Vedykar:147},Thaliost:{Rekkenmark:27,Fairhaven:361},Gatherhold:{"Fort Zombie":262},Sharn:{Wroat:294},Wroat:{Sharn:294,Hatheril:478,Starilaskur:617},Hatheril:{Wroat:478,"Sword Keep":106,Starilaskur:250},"Sword Keep":{Hatheril:106,Marketplace:96},Starilaskur:{Wroat:617,Sterngate:269,Vathirond:198,Hatheril:250},Sterngate:{Starilaskur:269,Zolanberg:214},Vathirond:{Starilaskur:198,Aruldusk:142},Aruldusk:{Vathirond:142,Sigilstar:99},Sigilstar:{Aruldusk:99,Flamekeep:194},Flamekeep:{Sigilstar:194},Marketplace:{"Sword Keep":96,Passage:255},Passage:{Marketplace:255,Fairhaven:227},Fairhaven:{Passage:227,Thaliost:361},Zolanberg:{Sterngate:214,Korranberg:195},Korranberg:{Zolanberg:195}},rails3E:{Rekkenmark:{Korth:141,Thaliost:27},Korth:{Rekkenmark:141,Atur:332},Atur:{Korth:332,Vedykar:227},Vedykar:{Atur:227,"Fort Zombie":239,Vulyar:220},"Fort Zombie":{Vedykar:239,Gatherhold:262},"Krona Peak":{Irontown:262},Irontown:{"Krona Peak":262,Vulyar:456},Vulyar:{Irontown:456,Vedykar:220},Thaliost:{Rekkenmark:27,Fairhaven:617},Gatherhold:{"Fort Zombie":262},Sharn:{Wroat:417},Wroat:{Sharn:417,Hatheril:717,Starilaskur:939},Hatheril:{Wroat:717,"Sword Keep":150,Starilaskur:372},"Sword Keep":{Hatheril:150,Marketplace:97},Starilaskur:{Wroat:939,Sterngate:369,Vathirond:287,Hatheril:372},Sterngate:{Starilaskur:369,Zolanberg:386},Vathirond:{Starilaskur:287,Aruldusk:262},Aruldusk:{Vathirond:262,Sigilstar:166},Sigilstar:{Aruldusk:166,Flamekeep:300},Flamekeep:{Sigilstar:300},Marketplace:{"Sword Keep":97,Passage:369},Passage:{Marketplace:369,Fairhaven:348},Fairhaven:{Passage:348,Thaliost:617},Zolanberg:{Sterngate:386,Korranberg:300},Korranberg:{Zolanberg:300}},startStation:"",finishStation:"",miles:0,path:[]},reducers:{startStationChange:function(e,a){var t=a.payload;e.startStation=h(t)},finishStationChange:function(e,a){var t=a.payload;e.finishStation=h(t)},setMiles:function(e,a){var t=a.payload;e.miles=t},setPath:function(e,a){var t=a.payload;e.path=t}}}),p=d.actions,E=p.startStationChange,g=p.finishStationChange,k=p.setMiles,b=p.setPath,f=function(e){return e.main},v=d.reducer,S=function(e){var a=e.stations,t=Object(i.b)();return n.a.createElement("div",{className:"form"},n.a.createElement(u,{placeholder:"From...",onChangeFunc:function(e){return t(E(e.target.value))},stations:a}),n.a.createElement(u,{placeholder:"To...",onChangeFunc:function(e){return t(g(e.target.value))},stations:a}))},w=(t(26),Object(m.b)({name:"settings",initialState:{costMode:"0",distanceSource:"4E"},reducers:{costModeChange:function(e,a){var t=a.payload;e.costMode=t},distanceSourceChange:function(e,a){var t=a.payload;e.distanceSource=t}}})),y=w.actions,M=y.costModeChange,F=y.distanceSourceChange,N=function(e){return e.settings},j=w.reducer,O=function(e){var a=Object(i.c)(f),t=a.miles,r=a.path,l=Object(i.c)(N).costMode,c=t/30+r.length-2,s=Math.trunc(c/24),o=Math.trunc(c)-24*s,u=Math.ceil(60*(c-Math.trunc(c))),m=.5*t;return n.a.createElement("div",{className:"answer"},n.a.createElement("div",{className:"answer-block answer-distance"},"Distance: ",n.a.createElement("span",{className:"answer-cost-bold "},t," miles")),n.a.createElement("div",{className:"answer-block answer-time"},"Travel time: ",n.a.createElement("span",{className:"answer-cost-bold "},s?s+":":"",o/10<1&&s?"0"+o:o,":",u/10<1?"0"+u:u," "),"(with 1 hour layover at each station)"),n.a.createElement("div",{className:"answer-block answer-cost"},"Cost:",n.a.createElement("ul",null,function(){if("0"===l||"1"===l)return n.a.createElement("li",null,"ERLW(5E) - per mile: ",n.a.createElement("span",{className:"answer-cost-bold "},Math.trunc(m)+"gp ","0.0"!==(m%1).toFixed(1)?10*(m%1).toFixed(1)+"sp":""))}(),function(){if("0"===l||"2"===l){var e=t/30/24,a=[Math.trunc(e),Math.trunc(e%1*10),Math.trunc(e%1*10%1*10)],r=[Math.trunc(4*e),Math.trunc(4*e%1*10),Math.trunc(4*e%1*10%1*10)];return n.a.createElement("li",null,"WGtE(5E) - per day:",n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{className:"answer-category-italic"},"Flat: "),n.a.createElement("span",{className:"answer-cost-bold "},a[0]?a[0]+"gp ":""," ",a[1]?a[1]+"sp ":"",a[2]?a[2]+"cp ":"")),n.a.createElement("li",null,n.a.createElement("span",{className:"answer-category-italic"},"Luxury: "),n.a.createElement("span",{className:"answer-cost-bold "},r[0]?r[0]+"gp ":""," ",r[1]?r[1]+"sp ":"",r[2]?r[2]+"cp ":""))))}}(),function(){if("0"===l||"3"===l){var e=[Math.trunc(.06*m),Math.trunc(.06*m%1*10),Math.trunc(.06*m%1*10%1*10)],a=[Math.trunc(.4*m),Math.trunc(.4*m%1*10),Math.trunc(.4*m%1*10%1*10)],t=[Math.trunc(m),Math.trunc(m%1*10),Math.trunc(m%1*10%1*10)];return n.a.createElement("li",null,"ECG(4E) - per mile:",n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("span",{className:"answer-category-italic"},"First Class: "),n.a.createElement("span",{className:"answer-cost-bold "},t[0]?t[0]+"gp ":""," ",t[1]?t[1]+"sp ":"",t[2]?t[2]+"cp ":"")),n.a.createElement("li",null,n.a.createElement("span",{className:"answer-category-italic"},"Standard: "),n.a.createElement("span",{className:"answer-cost-bold "},a[0]?a[0]+"gp ":""," ",a[1]?a[1]+"sp ":"",a[2]?a[2]+"cp ":"")),n.a.createElement("li",null,n.a.createElement("span",{className:"answer-category-italic"},"Steerage: "),n.a.createElement("span",{className:"answer-cost-bold "},e[0]?e[0]+"gp ":""," ",e[1]?e[1]+"sp ":"",e[2]?e[2]+"cp ":""))))}}())),n.a.createElement("div",{className:"answer-block answer-path"},"Stations:",n.a.createElement("ul",null,r.map((function(e){return n.a.createElement("li",null,e)})))))},V=(t(27),function(e){var a=Object(i.b)(),t=Object(i.c)(N),r=t.costMode,l=t.distanceSource;return n.a.createElement("div",{className:"settings"},n.a.createElement("div",{className:"settings-block"},n.a.createElement("label",{for:"settings-cost"},"Pricing method:"),n.a.createElement("select",{name:"settings-cost",onChange:function(e){return a(M(e.target.value))},defaultValue:r},n.a.createElement("option",{value:"0"},"All"),n.a.createElement("option",{value:"1"},"ERLW (5E) - per mile"),n.a.createElement("option",{value:"2"},"WGtE (5E) - per day"),n.a.createElement("option",{value:"3"},"ECG (4E) - per mile"))),n.a.createElement("div",{className:"settings-block"},n.a.createElement("label",{for:"settings-cost"},"Distances source:"),n.a.createElement("select",{name:"settings-cost",onChange:function(e){return a(F(e.target.value))},defaultValue:l},n.a.createElement("option",{value:"4E"},"4E"),n.a.createElement("option",{value:"3E"},"3E"),n.a.createElement("option",{disabled:!0,value:"custom"},"Custom"))))}),C=(t(28),function(){var e=Object(i.c)(N).distanceSource,a=Object(i.b)(),t=Object(i.c)(f),l=t.startStation,c=t.finishStation,u=t.miles,m=t.rails4E,h=t.rails3E,d=function(){switch(e){case"3E":return console.log(123),h;default:return m}},p=Object.keys(m),E=function(e,a){return Object.keys(e).reduce((function(t,r){return null!==t||a.includes(r)||(t=r),e[r]<e[t]&&!a.includes(r)&&(t=r),t}),null)},g=function(){if(l===c)a(k(0)),a(b([]));else{var e=function(e,a){for(var t=Object(o.a)(Object(o.a)({},d()[e]),{},Object(s.a)({},e,0)),r=[],n=0;n<p.length;n++)Object.keys(t).includes(p[n])||(t=Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},p[n],1/0)));var l={};for(var c in d()[e])l[c]=e;for(var i=E(t,r);i;){var u=t[i],m=d()[i];for(var h in m){var g=u+m[h];(!t[h]||t[h]>g)&&(t[h]=g,l[h]=i)}r.push(i),i=E(t,r)}delete l[e];var k=[a],b=l[a];for(var f in l)b&&(k.push(b),b=l[b]);return k.reverse(),[t[a],k]}(l,c);a(k(e[0])),a(b(e[1]))}};return Object(r.useEffect)((function(){p.includes(l)&&p.includes(c)&&g()}),[l,c,e]),n.a.createElement("main",null,n.a.createElement(S,{stations:p}),u?n.a.createElement(O,null):"",n.a.createElement(V,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=t(2),A=Object(K.c)({main:v,settings:j}),W=Object(m.a)({reducer:A});c.a.render(n.a.createElement(i.a,{store:W}," ",n.a.createElement(C,null)," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.3322574b.chunk.js.map